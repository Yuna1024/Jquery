<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ellie</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="container mt-5">
        <div class="d-flex justify-content-center align-items-center ">
            <form id="form">
                <h2 class="max-w">Student Form</h2>
                <div class="mb-3">
                    <input type="text" class="form-control" id="name" maxlength="50" placeholder="Name">
                    <div class="invalid-feedback" id="nameError"></div>
                </div>
                <div class="mb-3">
                    <input type="date" class="form-control" id="birthday" placeholder="Birthday">
                    <div class="invalid-feedback" id="birthdayError"></div>
                </div>
                <div class="mb-3">
                    <input type="text" class="form-control" id="mobile" maxlength="10" placeholder="Mobile phone">
                    <div class="invalid-feedback" id="mobileError"></div>
                </div>
                <div class="mb-3">
                    <input type="text" class="form-control" id="hometown" placeholder="Hometown">
                    <div class="invalid-feedback" id="hometownError"></div>
                </div>
                <button type="button" class="btn btn-primary" onclick="saveStudent()">Save</button>
                <button type="reset" class="btn btn-secondary">Reset</button>
            </form>
        </div>

        <h2 class="mt-5">Student List</h2>
        <div class="table-responsive">
        <table class="table table-bordered" id="studentTable">
            <thead>
                <tr>
                    <th></th>
                    <th>Name</th>
                    <th>Birthday</th>
                    <th>Mobile phone</th>
                    <th>Home Town</th>
                </tr>
            </thead>
            <tbody id="loaddssv">
                <!-- Student rows will be inserted here -->
            </tbody>
        </table>
    </div>
        <button id="deleteBtn" class="btn btn-danger" onclick="deleteStudent()" disabled>Delete</button>
        <button id="editBtn" class="btn btn-warning" onclick="editStudent()" disabled>Edit</button>
    </div>

    <script>
        fetch('http://localhost:3000/dssv')
            .then(Response => Response.json())
            .then(data => {
                const dssv = data
                showdata(dssv)
            })
        function showdata(data) {
            let loaddssv = document.getElementById("loaddssv");
            let kq = "";
            data.forEach(item => {
                kq += `<tr>
                        <th></th>
                        <th>${item.name}</th>
                        <th>${item.birthday}</th>
                        <th>${item.mobile}</th>
                        <th>${item.hometown}</th>
                </tr>
                `
            });
            loaddssv.innerHTML = kq
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="jquery.js"></script>
    <script src="jquery-3.7.1.min.js"></script>
</body>

</html>